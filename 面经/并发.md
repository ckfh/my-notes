## 线程的创建方式

1. 继承 Thread 类；
2. 实现 Runnable 接口；
3. 想获取线程返回值，可以使用 Callable 接口，获得一个 Future 对象。

## 线程状态以及如何启动线程

线程状态可分为：new、runnable、terminated、blocked、waiting、timed_waiting。

其中 runnable 包含操作系统线程状态中的运行态、就绪态、**阻塞态**，即由于 BIO 导致的线程阻塞，在 Java 中无法区分，仍然认为是 runnable 状态。

blocked 就是线程由于同步代码获取不到锁，而进入到 monitor 对象的 entryset 当中等待。

waiting 是线程获取到锁，但运行条件不满足，调用 wait 方法进入到 monitor 对象的 waitset 当中等待，此时会将锁释放出来，当线程再次被唤醒，尝试竞争锁，如果竞争成功，则进入 runnable 状态，如果竞争失败，则进入 blocked 状态。

waiting 状态还有可能是当前线程调用了 join 方法，当目标线程运行结束或当前线程被中断，则进入 runnable 状态。

waiting 状态还有可能是调用 park() 方法，当其它线程调用 unpark 或者当前线程被中断，则进入 runnable 状态。

timed_waiting 则是调用 wait(long n)/join(long n)/sleep(long n)/parkNanos(long nanos)/parkUntil(long millis) 等超时时间的方法后进入的状态。

线程启动借助 Thread 类的 start() 方法。

## Sleep 和 Wait 区别

- 类不同，前者属于 Thread 类，后者是 Object 类；
- 使用范围不同，前者任意地方，后者只能在同步代码块中；
- **前者不会释放锁，后者会释放锁**；
- 前者时间到时被自动唤醒，后者必须通过 notify() 方法唤醒；
- 作用不同，前者用于暂停线程，后者用于线程交互。



